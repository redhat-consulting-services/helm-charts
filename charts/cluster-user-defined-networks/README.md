# cluster-user-defined-networks

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.0.0](https://img.shields.io/badge/AppVersion-1.0.0-informational?style=flat-square)

A Helm chart to create ClusterUserDefinedNetworks (CUDNs) with Localnet topology.

## Usage

```bash
helm install <release-name> oci://ghcr.io/redhat-consulting-services/helm-charts/cluster-user-defined-networks:1.0.0
```

### Defining Networks

#### Network with subnet and IPAM enabled

```yaml
localnet:
  -
    # name of the ClusterUserDefinedNetwork
    name: network-prefix
    # stage of the ClusterUserDefinedNetwork (used by the stage label selector)
    stage: prod
    # whether this is the primary network
    primary: false
    # the physical network name to bind to
    physicalNetworkName: custom-physical-network
    # VLAN ID for the network
    id: 10
    # a list of subnets to allocate from
    subnets:
      - cidr: 10.0.0.0/24
    # a list of subnets to exclude from allocation
    excludeSubnets:
      - 10.0.0.0/23
      - 10.0.0.255/32
    # enable IPAM for this network
    ipam:
      enabled: true
```

#### Network with IPAM disabled

```yaml
localnet:
  -
    # name of the ClusterUserDefinedNetwork
    name: network-prefix
    # stage of the ClusterUserDefinedNetwork (used by the stage label selector)
    stage: prod
    # idStart is the starting VLAN ID for this network
    # Together with idEnd, this creates a range of CUDN's with VLAN IDs from idStart to idEnd
    idStart: 35
    # idEnd is the ending VLAN ID for this network
    # Together with idStart, this creates a range of CUDN's with VLAN IDs from idStart to idEnd
    idEnd: 36
    # disable IPAM for this network
    ipam:
      enabled: false
```

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| Leon Steinh√§user | <lsteinha@redhat.com> |  |
| Oscar Lindholm | <oscarlind@redhat.com> |  |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| globals | object | `{"localnet":{"physicalNetworkName":""}}` | globals contains global settings for the chart |
| globals.localnet | object | `{"physicalNetworkName":""}` | Default settings for localnet networks |
| globals.localnet.physicalNetworkName | string | `""` | Default physical network name for localnet networks |
| labels.stageLabel | string | `"ns.openshift.io/stage"` | if empty or set to null, no stage label will be added |
| labels.vlanLabel | string | `"networking.openshift.io/vlan"` | The label will be suffixed with the VLAN ID number, e.g. networking.openshift.io/vlan-100 |
| localnet | list | `[]` | List of ClusterUserDefinedNetworks to create with Localnet topology |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.14.2](https://github.com/norwoodj/helm-docs/releases/v1.14.2)
